{
  "permissions": {
    "allow": [
      "Bash(cargo check:*)",
      "Bash(cargo build:*)",
      "Bash(tree:*)",
      "Bash(cargo fmt:*)",
      "Bash(cargo clippy)",
      "mcp__plugin_claude-mem_mcp-search__search",
      "WebSearch",
      "WebFetch(domain:crates.io)",
      "Bash(cargo search tower_governor)",
      "Bash(cargo search tower_governor --registry crates-io)",
      "Bash(cargo search:*)",
      "Bash(cargo add:*)",
      "mcp__context7__resolve-library-id",
      "mcp__context7__query-docs",
      "Bash(del:*)",
      "Bash(cargo test)",
      "Bash(cargo test:*)",
      "Bash(cargo tree:*)",
      "Bash(echo:*)",
      "Bash(~/.claude/plans/wiggly-wiggling-parnas.md)",
      "Bash(cargo doc:*)",
      "Bash(~/.claude/plans/cozy-strolling-hummingbird.md)",
      "Bash(cargo tarpaulin:*)",
      "Bash(cargo install:*)",
      "Bash(psql:*)",
      "Bash(createdb:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\ndocs: enhance README security and switch to Rust project\n\n- Replace hardcoded credentials with placeholders\n- Add security warning with secret generation commands\n- Update Nginx config with HTTPS and security headers\n- Add security best practices section\n- Switch .gitignore from Go to Rust project structure\nEOF\n\\)\")",
      "Bash(cargo run:*)",
      "mcp__postgres__list_schemas",
      "mcp__redis-mcp-server__dbsize",
      "mcp__postgres__list_objects",
      "mcp__redis-mcp-server__get",
      "mcp__postgres__execute_sql",
      "mcp__redis-mcp-server__info",
      "Bash(ls:*)",
      "Bash(xargs:*)",
      "Bash(powershell -Command:*)",
      "Bash(python -c:*)",
      "Bash(wc:*)",
      "Bash(grep:*)",
      "Bash(PGPASSWORD=cmDHUmvMVQsQSp8V psql:*)",
      "Bash(git checkout:*)",
      "Bash(python3 << 'EOF'\nimport re\n\nfiles = [\n    'tests/report_test.rs',\n    'tests/moderation_test.rs',\n    'tests/comment_vote_test.rs',\n    'tests/integration_test.rs'\n]\n\nfor filepath in files:\n    try:\n        with open\\(filepath, 'r', encoding='utf-8'\\) as f:\n            content = f.read\\(\\)\n        \n        # Find each \"let forum_slug = common::create_test_forum\" \n        # and add \"let forum_id = common::get_forum_id...\" after it\n        pattern = r'\\(\\\\s+let forum_slug = common::create_test_forum\\\\\\(&app, &\\([^\\\\\\)]+\\)\\\\\\)\\\\.await;\\)\\(\\\\s*\\)'\n        \n        def add_forum_id\\(match\\):\n            indent = match.group\\(1\\)\n            call = match.group\\(2\\)\n            newline = match.group\\(3\\)\n            return f'{indent}\\\\n{indent}let forum_id = common::get_forum_id\\(&app, &forum_slug\\).await;{newline}'\n        \n        new_content = re.sub\\(pattern, add_forum_id, content\\)\n        \n        if new_content != content:\n            with open\\(filepath, 'w', encoding='utf-8'\\) as f:\n                f.write\\(new_content\\)\n            print\\(f\"✅ Updated {filepath}\"\\)\n        else:\n            print\\(f\"⏭️  No changes needed for {filepath}\"\\)\n    except Exception as e:\n        print\\(f\"❌ Error processing {filepath}: {e}\"\\)\nEOF)",
      "Bash(python3 << 'EOF'\nimport re\n\nfiles = [\n    'tests/report_test.rs',\n    'tests/moderation_test.rs',\n    'tests/comment_vote_test.rs',\n    'tests/integration_test.rs'\n]\n\nfor filepath in files:\n    try:\n        with open\\(filepath, 'r', encoding='utf-8'\\) as f:\n            content = f.read\\(\\)\n        \n        # Find each \"let forum_slug = common::create_test_forum\" \n        # and add \"let forum_id = common::get_forum_id...\" after it\n        pattern = r'\\(\\\\s+let forum_slug = common::create_test_forum\\\\\\(&app, &\\([^\\\\\\)]+\\)\\\\\\)\\\\.await;\\)\\(\\\\s*\\)'\n        \n        def add_forum_id\\(match\\):\n            indent = match.group\\(1\\)\n            newline = match.group\\(3\\)\n            return f'{indent}\\\\n{indent}let forum_id = common::get_forum_id\\(&app, &forum_slug\\).await;{newline}'\n        \n        new_content = re.sub\\(pattern, add_forum_id, content\\)\n        \n        if new_content != content:\n            with open\\(filepath, 'w', encoding='utf-8'\\) as f:\n                f.write\\(new_content\\)\n            print\\(f\"Updated {filepath}\"\\)\n        else:\n            print\\(f\"No changes needed for {filepath}\"\\)\n    except Exception as e:\n        print\\(f\"Error processing {filepath}: {e}\"\\)\nEOF)",
      "Bash(for:*)",
      "Bash(do)",
      "Bash(done)",
      "Bash(do echo \"=== $test ===\")"
    ]
  }
}
